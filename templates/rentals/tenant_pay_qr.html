{% extends "base.html" %}
{% block title %}Select Month to Pay - RealEstate360+{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 flex items-center justify-center px-4">
  <div class="bg-white w-full max-w-lg rounded-2xl shadow-sm border p-6">

    <h2 class="text-2xl font-bold text-gray-900">Select Month to Pay</h2>
    <p class="text-gray-500 mt-1">Choose which billing month you want to settle.</p>

    {% if unpaid_payments %}
    <form method="post" class="mt-6 space-y-4">
      {% csrf_token %}

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Billing Month
        </label>

        <select name="payment_id" required
                class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500">
          <option value="">-- Select Month --</option>

          {% for p in unpaid_payments %}
            <option value="{{ p.id }}">
              {{ p.billing_month|date:"F Y" }}
            </option>
          {% endfor %}
        </select>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Reference
        </label>
        <input
          name="reference"
          required
          class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500"
          placeholder="Enter reference number"
        />
      </div>

      <button
        type="submit"
        class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition">
        Confirm Payment
      </button>
    </form>
    {% else %}
      <p class="mt-4 text-green-600 font-semibold">
        All months are fully paid üéâ
      </p>
    {% endif %}

    <a href="{% url 'tenant_dashboard' %}"
       class="inline-block mt-4 text-sm text-blue-600 hover:underline">
      ‚Üê Back to Dashboard
    </a>

  </div>
</div>
{% endblock %}
